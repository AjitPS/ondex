
<h2>Download and Installation Instructions for Ondex Web</h2>

<p>Ondex Web is a signed Java applet and requires Oracle Java 6 update 10 (or greater) browser plugin installed on your system.
Oracle Java can be downloaded from <a href="http://java.com" target="_new">here</a>. Ondex Web has been extensively tested in IE9, Firefox and Chrome using Java7 Update 25.</p>

<h3>Download required files</h3>
<p>Ondex Web is packaged as an archive containing the Java code, libraries, a template directory structure and configuration files.</p>

<p>The current version of Ondex Web (v0.5.0 Beta) is publicly available as a ZIP file for <a href="files/OndexWeb-0.5.0.zip">download</a>.</p>

<h3>Extract archive to directory</h3>

<p>Ondex Web can be extracted to a directory of a web server (e.g. Apache Httpd) or to a directory within a local file system.</p>

<pre>
<code>
% unzip OndexWeb-0.5.0.zip
% ls
% config  index.html  lib        OndexWeb-0.5.0-SNAPSHOT.jar   README
% data    js          log4j.xml  OndexWeb.jnlp                 webservice.php
</code>
</pre>

<p>
You should now be able to test your Ondex Web installation by opening your URL (index.html) in a browser.
This will load a small example, which is shipped with Ondex Web.
</p>

<h3>Embed Ondex Web on your website</h3>
Use follwing snippet to embed an Ondex network on your website. In this example the html and java applet files 
(index.html, OndexWeb.jnlp and OndexWeb-0.5.0-SNAPSHOT.jar) are in the same root folder and the network file
(testGraph.xml) is located in a sub folder.
<pre>
<code>
&lt;script&gt;
	var attributes = {
		width : 800,
		height : 620
	};
	var parameters = {
		jnlp_href : 'OndexWeb.jnlp',
		filename : 'config/examples/testGraph.xml'
	};
	deployJava.runApplet(attributes, parameters, '1.6');
&lt;/script&gt;
</code>
</pre>

<p>
The size of the Ondex Web applet can be defined by changing the width and height attributes<br>
<code>var attributes = {width:800, height:620};</code>
</p>

<p>
To load a different network modify the filename parameter<br>
<code>var parameters = {jnlp_href: 'OndexWeb.jnlp', filename: 'config/examples/S48_diff_enriched_small.oxl'};</code>
</p>

The Ondex Web applet can also be used from the local file system (not on a web server). However since Java 7 Update 25, 
locally executed applets require absolute file path definitions. Therefore attribute values of ondex.dir, ovtk.dir and 
filename need to use the absolute file/directory path. Example: 
<pre>
<code>
//required changes in OndexWeb.jnlp
&lt;param name="ondex.dir" value="file:/D:/OndexWeb/data"/&gt;
&lt;param name="ovtk.dir" value="file:/D:/OndexWeb/config"/&gt;
&lt;param name="filename" value="file:/D:/OndexWeb/config/examples/testGraph.xml"/&gt;

//required changes in your embedded script
&lt;script&gt;
	var attributes = {
		width : 800,
		height : 620
	};
	var parameters = {
		jnlp_href : 'OndexWeb.jnlp',
		filename : 'file:/D:/OndexWeb/config/examples/testGraph.xml'
	};
	deployJava.runApplet(attributes, parameters, '1.6');
&lt;/script&gt;
</code>
</pre>

<h3>Full customization</h3>
<table>
<tr><th colspan="2" align="left">Loading from file (either or)</th></tr>
<tr><td>filename</td><td>path to OXL file, has to be reachable from Applet, please pay attention to java.policy.applet</td></tr>
<tr><td>xgmml</td><td>path to XGMML file, same conditions as above</td></tr>
<tr><th colspan="2" align="left">Loading from webservice (not when loading from file)</th></tr>
<tr><td>webservice</td><td>URL of webservice, e.g. http://rpc274.cs.man.ac.uk:8080/ondex/services/ondex-graph?wsdl</td></tr>
<tr><td>graphname</td><td>name of graph, see webservice, if multiple graphs have same name, selection is arbitrary</td></tr>
<tr><th colspan="2" align="left">Appearance parameter</th></tr>
<tr><td>nodes.labels</td><td>true/false show node labels</td></tr>
<tr><td>edges.labels</td><td>true/false show edge labels</td></tr>
<tr><td>antialiased</td><td>true/false use antialiased painting</td></tr>
<tr><td>layout</td><td>default: "net.sourceforge.ondex.ovtk2.layout.GEMLayout"</td></tr>
<tr><td>loadappearance</td><td>true/false to load saved appearance</td></tr>
</table>


<h3>Usage</h3>

<p>Once Ondex Web has finished loading you can use the following keyboard short-cuts and
mouse functions to navigate and interact with the graph. Further functionality is available
via the Ondex Web menu bar at the top of the applet.</p>

<table>
<tr><th colspan="2" align="left">Key bindings</th></tr>
<tr><td>CTRL+c</td><td>center graph to fit into display</td></tr>
<tr><td>CTRL+m</td><td>special function for QTLNetMiner, load appearance and size</td></tr>
<tr><td>CTRL+z</td><td>undo last visibility change</td></tr>
<tr><td>CTRL+y</td><td>redo last visibility change</td></tr>
<tr><td>CTRL+a</td><td>select all nodes</td></tr>
<tr><td>CTRL+h</td><td>hide selection</td></tr>
<tr><td>CTRL+g</td><td>hide everything but selection</td></tr>
<tr><td>Numpad -</td><td>zoom out</td></tr>
<tr><td>Numpad +</td><td>zoom in</td></tr>
</table>

<table>
<tr><th align="left">Mouse behaviour</th></tr>
<tr><td>left click on empty space and holding moves graph</td></tr>
<tr><td>mouse wheel for zooming in / out</td></tr>
<tr><td>left click on nodes or edges selects them</td></tr>
<tr><td>right click shows context menu</td></tr>
<tr><td>shift + left click for multiple selection</td></tr>
</table>

<h3>License</h3>

<p>Ondex Web is part of the Ondex software suite and licensed under the same LGPL.</p>


<h3>Support</h3>

<p>For any questions, please contact: <a href="mailto:contact@ondex.org">contact@ondex.org</a></p>

